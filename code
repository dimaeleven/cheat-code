#!/bin/bash

LOGFILE=~/Desktop/minecraft_cheat_scan.log
KEYWORDS="kami kamiblue pyro impact wurst inertia liquidbounce sigma neverhook zamorozka minced wexside shit expensive wild fluger norender keaz xray meteor blackberry nursultan avalone rockstar mercu div niobium kion akrien celestial deadcode external norules rage bebraware rynware neverware aristois freecam baritone skillclient vape future gishcode boberware flauncher exloader mc100 editme cheat.dll .vape .jar"

FOUND_CHEATS=0

echo "üïµÔ∏è Minecraft Cheat Detection Report ‚Äî $(date)" > "$LOGFILE"
echo "=============================================" >> "$LOGFILE"

echo -e "\nüìÅ [Scanning Minecraft folders for cheat files...]" | tee -a "$LOGFILE"

# –ü–æ–∏—Å–∫ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
while IFS= read -r file; do
  DIR_PATH=$(dirname "$file")
  FILE_NAME=$(basename "$file")
  echo -e "\nüö® –ù–∞–π–¥–µ–Ω —Ñ–∞–π–ª: $FILE_NAME\nüìÇ –ü—É—Ç—å: $DIR_PATH" | tee -a "$LOGFILE"
  FOUND_CHEATS=1
done < <(
  find ~/Library/Application\ Support/minecraft \( \
    $(for k in $KEYWORDS; do echo -n "-iname \"*$k*\" -o "; done | sed 's/ -o $//') \
  \) 2>/dev/null
)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
echo -e "\nüîé [–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤...]" | tee -a "$LOGFILE"
for k in $KEYWORDS; do
  if ps aux | grep -i "$k" | grep -v grep >/dev/null; then
    echo "üö® –ü—Ä–æ—Ü–µ—Å—Å —Å –∫–ª—é—á–æ–º '$k':" | tee -a "$LOGFILE"
    ps aux | grep -i "$k" | grep -v grep | tee -a "$LOGFILE"
    FOUND_CHEATS=1
  fi
done

# –ü—Ä–æ–≤–µ—Ä–∫–∞ launchctl
echo -e "\nüì¶ [–ü—Ä–æ–≤–µ—Ä–∫–∞ launchctl –∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞...]" | tee -a "$LOGFILE"
launchctl list | grep -iE "$(echo $KEYWORDS | sed 's/ /|/g')" >> "$LOGFILE"

# –ò—Ç–æ–≥
echo -e "\n======================" | tee -a "$LOGFILE"
if [ "$FOUND_CHEATS" -eq 1 ]; then
  echo -e "‚ùó –ù–∞–π–¥–µ–Ω—ã –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã." | tee -a "$LOGFILE"
else
  echo -e "‚úÖ –ß–∏—Å—Ç—ã. –°–ª–µ–¥–æ–≤ —á–∏—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ." | tee -a "$LOGFILE"
fi
echo -e "üìÑ –û—Ç—á—ë—Ç: $LOGFILE"
echo "======================" | tee -a "$LOGFILE"
